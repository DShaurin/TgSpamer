# TgSpamer
This C# program can be used to post messages in different Telegram channels periodically

# Як запустити:
1. Компілюємо солюшн TgSpam.sln в Віжал Студії. Потрібен .NetCore 5.0
2. У папці TgSpamer\bin\[Release/Debug]\net5.0\ повинен з'явитися файл TgSpamer.exe
3. Запускаємо його, він створить новий файл TgLogin.json та завершиться з помилкою (бо не має інформації для логіну)
4. У новому файлі TgLogin.json треба вписати свої налаштування, щось на зразок
```json
"ApiId": 123456,
"ApiHash": "abcdef1234567890fcedab",
"PhoneNumber": "+380987654321"
```
Отримати їх можна на сайті https://my.telegram.org/apps (докладніше тут https://telegra.ph/How-to-get-Telegram-APP-ID--API-HASH-05-27 )

Можна вписувати декілька аккаунтів, зверніть увагу, що у json файлі массив! Якщо будете вписувати декілька аккаунтів, то треба щоб у них були різні шляхи "TgFolder", там бібліотека TdApi зберігає свій кеш.

5. Коли налаштування АПІ введені, запускаємо TgSpamer.exe знову. Він спитає код підтвердження, який прийде у клієнт Телеграму.
6. Знов закриваємо TgSpamer.exe (тепер вже без помилок, клавішою Ентер). З'являться нові файли chatIds.txt, chatsToSpam.txt та messagesToSend.json
7. У файл chatsToSpam.txt треба вписати ИД або назви чатів, які будемо спамити. Взяти їх можна у файлі chatIds.txt
8. У messagesToSend.json вписуємо повідомлення, які будуть розсилатися. Це серіалізовані у json об'єкти типу TdApi.InputMessageContent, якщо захочете постити щось більше за простий текст, треба буде поколупатися у коді. Але й правильним текстом можна багато досягти ;)
9. Запускаємо TgSpamer.exe, тепер він повинен працювати і в логи писати що куди відправив.

# Як воно працює?
TgManager.Manager логіниться як неофіційний Телеграм клієнт (не бот, а реальний користувач з кастомним клієнтом) у аккаунти, які ви додали у файл TgLogin.json.
Далі кожні 3 хвилини з чатів (chatsToSpam.txt) підтягується історія (200+ останніх повідомлень). Якщо серед них не має наших повідомлень, або останнє наше було більше 3х годин тому, то прога постить одне рандомне повідомлення з файлу messagesToSend.json.
Все, цикл повторюється постійно.

### Слава Україні!
